<div th:fragment=editForm xmlns:th="http://www.w3.org/1999/xhtml">

    <a aria-controls="collapseExample" aria-expanded="false" class="btn btn-primary" data-toggle="collapse"
       href="#inputForm"
       role="button">
        Add new message.
    </a>
    <div id="inputForm" th:class="${textError} or ${tagError} or ${filenameError}?'collapse show':'collapse'">
        <div class="form-group mt-3">
            <form enctype="multipart/form-data" method="post" th:action="@{/main}">
                <div class="form-group">

                    <div class="form-group">
                        <label for="messageArea"></label>
                        <textarea class="form-control " id="messageArea"
                                  name="text" placeholder="Your message" rows="3"
                                  th:class="${textError}?'form-control is-invalid':'form-control' "></textarea>
                        <div class="alert alert-danger" role="alert" style="height: 40px" th:if="${textError}">
                            <td th:text="${textError}">
                        </div>
                    </div>

                    <div class="form-group">
                        <input name="tag" placeholder="Tag"
                               th:class="${tagError}?'form-control is-invalid':'form-control'" type="text">
                        <div class="alert alert-danger" role="alert" style="height: 40px" th:if="${tagError}">
                            <td th:text="${tagError}">
                        </div>
                    </div>


                    <div class="custom-file">
                        <input class="${filenameError}?'custom-file-label is-invalid':'custom-file-label' mb-2"
                               id="customFile"
                               name="file"
                               type="file">
                        <label class="custom-file-label " for="customFile">Choose file</label>
                        <div class="alert alert-danger" role="alert" style="height: 40px" th:if="${filenameError}">
                            <td th:text="${filenameError}">
                        </div>
                    </div>


                    <div class="form-group">
                        <button class="btn btn-primary mt-5" type="submit">Add</button>

                    </div>
                </div>
            </form>
        </div>
    </div>


</div>